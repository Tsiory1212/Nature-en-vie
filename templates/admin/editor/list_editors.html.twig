{% extends 'base_admin.html.twig' %}

{% block title %}
	Liste des rédacteurs
{% endblock %}

{% block stylesheets %}{% endblock %}

{% block body %}	
	<div class="container-fluid mt-5">
	    <div class="container">
            {{form_start(form)}}
            <div class="row">
                <div class="col">
                    {{form_row(form.name)}}
                </div>
                <div class="col">
                    {{form_row(form.email)}}
                </div>
				<div class="col">
                    {{form_row(form.phone)}}
                </div>
                <div class="col-1">
                    <button class="button button1 d-inline" style="margin-top: -6px;"><i class="fas fa-search"></i></button>
                </div>
            </div>
            {{form_end(form)}}
        </div>

		<hr>

		{% for label, messages in app.flashes %}
				<div class="alert alert-{{label}} text-center">
					{% for message in messages %}
						{{message | raw}}
					{% endfor %}
				</div>
		{% endfor %}

		<a href="{{path('admin_editor_add')}}" class="button button1 fw-bold"><i class="fas fa-plus"></i> Rédacteur</a>
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Prénom</th>
					<th scope="col">Adress email</th>
					<th scope="col">Téléphone</th>
					<th scope="col">Adresse</th>
					<th scope="col">ACTION</th>
				</tr>
			</thead>
			<tbody>
				{% for user in editors %}
					<tr>
						<td>{{user.id}}</td>
						<td>{{user.lastname}}</td>
						<td>{{user.email}}</td>
						<td>{{user.phone}}</td>
						{# <td>{{user.adresse}}</td> #}
						<td>
							<form method="post" action="{{ path('admin_editor_delete', {'id': user.id}) }}">
								<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ user.id) }}">
								<button class="btn btn-danger" onclick="if(!confirm('Êtes-vous sûr de vouloir supprimer  {{user.lastname}}  ?')) { return false; }">
									<i class="fas fa-trash-alt"></i>
								</button>
							</form>
						</td>
						<td>
							<a href="{{ path('admin_editor_edit', {'id': user.id}) }}" class="btn btn-primary">
								<i class="fas fa-edit"></i>
							</a>
						</td>

					</tr>
				{% endfor %}

			</tbody>
		</table>
	</div>

	<div class="pagination d-flex justify-content-center">
		{{ knp_pagination_render(editors)}}
	</div>
	
{% endblock %}
