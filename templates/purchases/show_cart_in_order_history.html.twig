{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}


{% block stylesheets %}
    <style>
        #header{
            position: relative;
            margin-bottom: 100px;
        }

        .total-price-table{
            font-size: 28px;
            font-weight: 500;
        }
        
        body{
            background-image: url(/biolife/assets/images/home-01/main-slide-02.png);
        }

        @media (max-width: 530px) {
            .product-name{
                font-size: 12px;
            }

            .banner-media-layout-01{
                height: 405px;
            }
        }
    
        
    </style>
{% endblock %}




{% block body %}
    <div class="container bg-white panier_body shadow-lg p-3 mb-5 mt-5 bradius-3rem">
        
        <div class="d-flex text-white justify-content-center my-3">
            <h1 class="font-bg-stylized-1">Liste des produits</h1>
        </div>

        <table class="table">
            <thead style="color: #37cc1d;">
                <tr class="text-center">
                    <th></th>
                    <th>Produit</th>
                    <th>Prix</th>
                    <th>Quantité</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                    {% if item.product is null %}
                        <tr>
                            <td>
                                (produit non dispo)
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    {% else %}
                        <tr>
                            <td>
                                <a href="{{path('product_show', {id: item.product.id, slug: item.product.slug})}}">
                                    {% if item.product.imageName %}
                                        <img src="{{ vich_uploader_asset(item.product, 'imageFile') }}" alt="card-img-top" width="50" height="50">
                                    {% else %}
                                        <img src="/uploads/produit/images/defaultImage.png" alt="card-img-top"  width="50" height="50" >        
                                    {% endif %}
                                </a>
                            </td>
                            <td class="product-name">{{ item.product.name }}</td>
                            <td>{{ item.product.price }} €</td>
                            <td> {{ item.quantity }}</td>
                            <td>{{ item.product.price * item.quantity }} €</td>
                        </tr>
                    {% endif %}
                    
                {% endfor %}
            </tbody>
            <tfoot>
                <tr class="total-price-table">
                    <td colspan="3" class="text-right">Total :</td>
                    <td colspan="2" class="text-right total-general">{{ total }} €</td>
                    <td></td>
                </tr>
            </tfoot>
        </table>

    </div>
{% endblock %}
